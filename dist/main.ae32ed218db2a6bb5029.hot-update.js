"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdateitk_vtk_viewer"]("main",{

/***/ "./src/UI/Layers/createLayersUIMachine.js":
/*!************************************************!*\
  !*** ./src/UI/Layers/createLayersUIMachine.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ \"./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\");\n/* harmony import */ var xstate__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! xstate */ \"./node_modules/xstate/es/index.js\");\n/* harmony import */ var xstate__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! xstate */ \"./node_modules/xstate/es/interpreter.js\");\n/* harmony import */ var xstate__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! xstate */ \"./node_modules/xstate/es/actions.js\");\n/* harmony import */ var xstate__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! xstate */ \"./node_modules/xstate/es/Machine.js\");\n/* harmony import */ var itk_wasm__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! itk-wasm */ \"./node_modules/itk-wasm/dist/core/PixelTypes.js\");\n/* harmony import */ var _createLayerUIActor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./createLayerUIActor */ \"./src/UI/Layers/createLayerUIActor.js\");\n/* harmony import */ var _Context_LayerActorContext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../Context/LayerActorContext */ \"./src/Context/LayerActorContext.js\");\n/* harmony import */ var _Context_ImageActorContext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../Context/ImageActorContext */ \"./src/Context/ImageActorContext.js\");\n/* harmony import */ var _Rendering_Images_createImageRenderingActor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../Rendering/Images/createImageRenderingActor */ \"./src/Rendering/Images/createImageRenderingActor.js\");\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\n\n\n\n\n\nfunction resize(arr, newSize, defaultValue) {\n  return [].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(arr), (0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Array(Math.max(newSize - arr.length, 0)).fill(defaultValue)));\n}\nfunction spawnLayerRenderingActor(options) {\n  return (0,xstate__WEBPACK_IMPORTED_MODULE_7__.assign)({\n    layers: function layers(context, event) {\n      var layers = context.layers;\n      switch (event.type) {\n        case 'ADD_IMAGE':\n          {\n            var _layers$actorContext$;\n            var name = event.data.name;\n            // Ensure unique name\n            var nameNumber = 0;\n            while (layers.layerUIActors.has(name)) {\n              name = \"\".concat(event.data.name, \"-\").concat(nameNumber + 1);\n              nameNumber++;\n            }\n            var actorContext = (_layers$actorContext$ = layers.actorContext.get(name)) !== null && _layers$actorContext$ !== void 0 ? _layers$actorContext$ : new _Context_LayerActorContext__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n            actorContext.type = 'image';\n            actorContext.bbox = false;\n            layers.actorContext.set(name, actorContext);\n            layers.lastAddedData = {\n              name: name,\n              data: event.data\n            };\n            layers.layerUIActors.set(name, (0,xstate__WEBPACK_IMPORTED_MODULE_8__.spawn)((0,_createLayerUIActor__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(options, context, actorContext), \"layerUIActor-\".concat(name), actorContext));\n            break;\n          }\n        case 'ADD_LABEL_IMAGE':\n          {\n            var _layers$actorContext$2;\n            var _name = event.data.labelImage.name;\n            // Ensure unique name\n            var _nameNumber = 0;\n            while (layers.layerUIActors.has(_name)) {\n              _name = \"\".concat(event.data.labelImage.name, \"-\").concat(_nameNumber + 1);\n              _nameNumber++;\n            }\n            var _actorContext = (_layers$actorContext$2 = layers.actorContext.get(_name)) !== null && _layers$actorContext$2 !== void 0 ? _layers$actorContext$2 : new _Context_LayerActorContext__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n            _actorContext.type = 'labelImage';\n            _actorContext.bbox = false;\n            layers.actorContext.set(_name, _actorContext);\n            layers.lastAddedData = {\n              name: _name,\n              data: event.data\n            };\n            layers.layerUIActors.set(_name, (0,xstate__WEBPACK_IMPORTED_MODULE_8__.spawn)((0,_createLayerUIActor__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(options, context, _actorContext), \"layerUIActor-\".concat(_name)));\n            break;\n          }\n        default:\n          throw new Error(\"Unexpected event type: \".concat(event.type));\n      }\n      return layers;\n    }\n  });\n}\nvar assignImageContext = (0,xstate__WEBPACK_IMPORTED_MODULE_7__.assign)({\n  images: function images(context) {\n    var _images$actorContext$;\n    var images = context.images;\n    var actorName = null;\n    var image = null;\n    var labelImage = null;\n    var imageName = null;\n    var labelImageName = null;\n    if ('labelImage' in context.layers.lastAddedData.data) {\n      var _context$layers$lastA, _imageName;\n      labelImage = context.layers.lastAddedData.data.labelImage;\n      imageName = (_context$layers$lastA = context.layers.lastAddedData.data.imageName) !== null && _context$layers$lastA !== void 0 ? _context$layers$lastA : context.images.selectedName;\n      actorName = (_imageName = imageName) !== null && _imageName !== void 0 ? _imageName : context.layers.lastAddedData.data.labelImage.name;\n      labelImageName = context.layers.lastAddedData.name;\n    } else {\n      var _Array$from$find;\n      imageName = context.layers.lastAddedData.name;\n      // find Map key with ImageActorContext with matching image name.  Needed if image loaded after labelImage\n      var _ref = (_Array$from$find = Array.from(images.actorContext.entries()).find(function (_ref3) {\n          var _ref4 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_ref3, 2),\n            actorImageName = _ref4[1].imageName;\n          return actorImageName === imageName;\n        })) !== null && _Array$from$find !== void 0 ? _Array$from$find : [],\n        _ref2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_ref, 1),\n        keyName = _ref2[0];\n      actorName = keyName !== null && keyName !== void 0 ? keyName : imageName;\n    }\n    images.selectedName = actorName;\n    var actorContext = (_images$actorContext$ = images.actorContext.get(actorName)) !== null && _images$actorContext$ !== void 0 ? _images$actorContext$ : new _Context_ImageActorContext__WEBPACK_IMPORTED_MODULE_5__[\"default\"]();\n    var layerContext;\n    if (labelImage) {\n      var _imageName2;\n      if (actorContext.image && labelImage.imageType.dimension !== actorContext.image.imageType.dimension) throw new Error('Label image dimensions do not match Image dimensions');\n      actorContext.labelImage = labelImage;\n      actorContext.labelImageName = labelImageName;\n      layerContext = context.layers.actorContext.get(labelImageName);\n      actorContext.imageName = (_imageName2 = imageName) !== null && _imageName2 !== void 0 ? _imageName2 : 'Image';\n    } else {\n      if (actorContext.labelImage && image.imageType.dimensions !== actorContext.labelImage.imageType.dimensions) throw new Error('Label image dimensions do not match Image dimensions');\n      image = context.layers.lastAddedData.data;\n      actorContext.image = image;\n      layerContext = context.layers.actorContext.get(imageName);\n    }\n    layerContext.imageActorContext = actorContext;\n    images.actorContext.set(actorName, actorContext);\n    if (image === null) {\n      return images;\n    }\n    var components = image.imageType.components;\n\n    // Assign default independentComponents\n    if (actorContext.independentComponents === null) {\n      // If a 2D RGB image\n      if (image.imageType.pixelType === itk_wasm__WEBPACK_IMPORTED_MODULE_9__[\"default\"].RGB || image.imageType.pixelType === itk_wasm__WEBPACK_IMPORTED_MODULE_9__[\"default\"].RGBA) {\n        actorContext.independentComponents = false;\n      } else {\n        actorContext.independentComponents = true;\n      }\n    }\n\n    // Assign default colorMaps\n    for (var component = 0; component < components; component++) {\n      if (actorContext.colorMaps.has(component)) {\n        continue;\n      }\n      var colorMap = 'TestMap';\n      // If a 2D RGB or RGBA\n      if (components === 2) {\n        switch (component) {\n          case 0:\n            colorMap = 'BkMa';\n            break;\n          case 1:\n            colorMap = 'BkCy';\n            break;\n        }\n      } else if (actorContext.independentComponents) {\n        if (components === 3) {\n          switch (component) {\n            case 0:\n              colorMap = 'BkRd';\n              break;\n            case 1:\n              colorMap = 'BkGn';\n              break;\n            case 2:\n              colorMap = 'BkBu';\n              break;\n          }\n        } else if (components >= 4) {\n          switch (component) {\n            case 0:\n              colorMap = 'BkRd';\n              break;\n            case 1:\n              colorMap = 'BkGn';\n              break;\n            case 2:\n              colorMap = 'BkBu';\n              break;\n            case 3:\n              colorMap = 'Grayscale';\n              break;\n          }\n        }\n      }\n      actorContext.colorMaps.set(component, colorMap);\n    }\n    for (var _component = 0; _component < components; _component++) {\n      if (!actorContext.piecewiseFunctionPoints.has(_component)) {\n        // Assign default piecewiseFunction\n        var points = context.use2D ? [[0.5, 1]] : [\n          // ТУТ\n        ];\n        if (context.use2D && components === 1) {\n          // For 2D ImageMapper, if multiple components,\n          // opacity function sets component contribution factor.\n          // If just 1 component, opacity function is irrelevant.\n          points.length = 0;\n        }\n        actorContext.piecewiseFunctionPoints.set(_component, points);\n      }\n      actorContext.colorRanges.set(_component, [0.2, 0.8]);\n    }\n\n    // make Maps like this: { 0: true, 1: true, ... n: true}\n    var trueForAll = (0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Array(components).keys()).map(function (c) {\n      return [c, true];\n    });\n    actorContext.colorRangeMinAutoAdjust = new Map((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(trueForAll));\n    actorContext.colorRangeMaxAutoAdjust = new Map((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(trueForAll));\n    actorContext.colorRangeBoundsAutoAdjust = new Map((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(trueForAll));\n    actorContext.piecewiseFunctionPointsAutoAdjust = new Map((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(trueForAll));\n    return images;\n  }\n});\nvar assignComponentVisibilities = (0,xstate__WEBPACK_IMPORTED_MODULE_7__.assign)({\n  images: function images(_ref5, event) {\n    var _images = _ref5.images;\n    var actorContext = _images.actorContext.get(event.data.name);\n    var componentCount = (0,_Rendering_Images_createImageRenderingActor__WEBPACK_IMPORTED_MODULE_6__.getOutputIntensityComponentCount)(actorContext);\n    actorContext.componentVisibilities = resize(actorContext.componentVisibilities, componentCount, true);\n    return _images;\n  }\n});\nvar sendComponentVisibilitiesUpdated = function sendComponentVisibilitiesUpdated(c, _ref6) {\n  var name = _ref6.data.name;\n  c.service.send({\n    type: 'COMPONENT_VISIBILITIES_UPDATED',\n    data: {\n      name: name\n    }\n  });\n};\nvar assignSelectedName = (0,xstate__WEBPACK_IMPORTED_MODULE_7__.assign)({\n  images: function images(context, event) {\n    var images = context.images;\n    var name = event.data;\n    var type = context.layers.layersUIActors.get(name).type;\n    if (type === 'image' || type === 'labelImage') {\n      images.selectedName = name;\n    }\n    return images;\n  }\n});\nvar forwardToNamedActor = (0,xstate__WEBPACK_IMPORTED_MODULE_7__.send)(function (_, e) {\n  return e;\n}, {\n  to: function to(c, e) {\n    return \"layerUIActor-\".concat(e.name);\n  }\n});\nvar sendEventToAllActors = xstate__WEBPACK_IMPORTED_MODULE_10__.pure(function (_ref7, event) {\n  var _layerUIActors$values;\n  var layerUIActors = _ref7.layers.layerUIActors;\n  return Array.from((_layerUIActors$values = layerUIActors === null || layerUIActors === void 0 ? void 0 : layerUIActors.values()) !== null && _layerUIActors$values !== void 0 ? _layerUIActors$values : []).map(function (actor) {\n    return (0,xstate__WEBPACK_IMPORTED_MODULE_7__.send)(event, {\n      to: actor\n    });\n  });\n});\nfunction createLayersUIMachine(options, context) {\n  var layerUIActor = options.layerUIActor;\n  return (0,xstate__WEBPACK_IMPORTED_MODULE_11__.Machine)({\n    id: 'layers',\n    initial: 'idle',\n    context: context,\n    states: {\n      idle: {\n        always: {\n          target: 'active',\n          actions: ['createLayersInterface']\n        }\n      },\n      active: {\n        invoke: [{\n          id: 'compareUI',\n          src: 'compareUI'\n        }],\n        on: {\n          SELECT_LAYER: {\n            assignSelectedName: assignSelectedName,\n            actions: [(0,xstate__WEBPACK_IMPORTED_MODULE_7__.send)(function (_, e) {\n              return e;\n            }, {\n              to: function to(c, e) {\n                return \"layerUIActor-\".concat(e.data);\n              }\n            })]\n          },\n          TOGGLE_LAYER_VISIBILITY: {\n            actions: (0,xstate__WEBPACK_IMPORTED_MODULE_7__.send)(function (_, e) {\n              return e;\n            }, {\n              to: function to(c, e) {\n                return \"layerUIActor-\".concat(e.data);\n              }\n            })\n          },\n          ADD_IMAGE: {\n            actions: [spawnLayerRenderingActor(layerUIActor), assignImageContext, assignComponentVisibilities, function (c) {\n              return c.service.send({\n                type: 'IMAGE_ASSIGNED',\n                data: c.images.selectedName\n              });\n            }, function (c) {\n              return c.service.send({\n                type: 'SELECT_LAYER',\n                data: c.images.selectedName\n              });\n            }]\n          },\n          ADD_LABEL_IMAGE: {\n            actions: [spawnLayerRenderingActor(layerUIActor), assignImageContext, function (c) {\n              return c.service.send({\n                type: 'LABEL_IMAGE_ASSIGNED',\n                data: c.images.selectedName\n              });\n            }, function (c) {\n              return c.service.send({\n                type: 'SELECT_LAYER',\n                data: c.images.selectedName\n              });\n            }]\n          },\n          START_DATA_UPDATE: {\n            actions: forwardToNamedActor\n          },\n          FINISH_DATA_UPDATE: {\n            actions: forwardToNamedActor\n          },\n          POST_RENDER: {\n            actions: sendEventToAllActors\n          },\n          COMPARE_UPDATED: {\n            actions: [assignComponentVisibilities, sendComponentVisibilitiesUpdated, (0,xstate__WEBPACK_IMPORTED_MODULE_7__.send)(function (_, e) {\n              return e;\n            }, {\n              to: function to(c, e) {\n                return \"layerUIActor-\".concat(e.data.name);\n              }\n            }), (0,xstate__WEBPACK_IMPORTED_MODULE_7__.forwardTo)('compareUI')]\n          }\n        }\n      }\n    }\n  }, // need service stub to avoid errors if overridden options does not define\n  _objectSpread({\n    services: {\n      compareUI: function compareUI() {\n        return function () {\n          return undefined;\n        };\n      }\n    }\n  }, options));\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (createLayersUIMachine);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvVUkvTGF5ZXJzL2NyZWF0ZUxheWVyc1VJTWFjaGluZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBeUU7QUFFcEM7QUFFZ0I7QUFDVTtBQUNBO0FBQ29DO0FBRW5HLFNBQVNXLE1BQU1BLENBQUNDLEdBQUcsRUFBRUMsT0FBTyxFQUFFQyxZQUFZLEVBQUU7RUFDMUMsVUFBQUMsTUFBQSxDQUFBQyxvRkFBQSxDQUNLSixHQUFHLEdBQUFJLG9GQUFBLENBQ0hDLEtBQUssQ0FBQ0MsSUFBSSxDQUFDQyxHQUFHLENBQUNOLE9BQU8sR0FBR0QsR0FBRyxDQUFDUSxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQ0MsSUFBSSxDQUFDUCxZQUFZLENBQUM7QUFFbEU7QUFFQSxTQUFTUSx3QkFBd0JBLENBQUNDLE9BQU8sRUFBRTtFQUN6QyxPQUFPdEIsOENBQU0sQ0FBQztJQUNadUIsTUFBTSxFQUFFLFNBQUFBLE9BQUNDLE9BQU8sRUFBRUMsS0FBSyxFQUFLO01BQzFCLElBQU1GLE1BQU0sR0FBR0MsT0FBTyxDQUFDRCxNQUFNO01BQzdCLFFBQVFFLEtBQUssQ0FBQ0MsSUFBSTtRQUNoQixLQUFLLFdBQVc7VUFBRTtZQUFBLElBQUFDLHFCQUFBO1lBQ2hCLElBQUlDLElBQUksR0FBR0gsS0FBSyxDQUFDSSxJQUFJLENBQUNELElBQUk7WUFDMUI7WUFDQSxJQUFJRSxVQUFVLEdBQUcsQ0FBQztZQUNsQixPQUFPUCxNQUFNLENBQUNRLGFBQWEsQ0FBQ0MsR0FBRyxDQUFDSixJQUFJLENBQUMsRUFBRTtjQUNyQ0EsSUFBSSxNQUFBZCxNQUFBLENBQU1XLEtBQUssQ0FBQ0ksSUFBSSxDQUFDRCxJQUFJLE9BQUFkLE1BQUEsQ0FBSWdCLFVBQVUsR0FBRyxDQUFDLENBQUU7Y0FDN0NBLFVBQVUsRUFBRTtZQUNkO1lBQ0EsSUFBTUcsWUFBWSxJQUFBTixxQkFBQSxHQUNoQkosTUFBTSxDQUFDVSxZQUFZLENBQUNDLEdBQUcsQ0FBQ04s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cmVhdGVMYXllcnNVSU1hY2hpbmUuanM/M2FhNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNYWNoaW5lLCBhc3NpZ24sIHNwYXduLCBzZW5kLCBhY3Rpb25zLCBmb3J3YXJkVG8gfSBmcm9tICd4c3RhdGUnXHJcblxyXG5pbXBvcnQgeyBQaXhlbFR5cGVzIH0gZnJvbSAnaXRrLXdhc20nXHJcblxyXG5pbXBvcnQgY3JlYXRlTGF5ZXJVSUFjdG9yIGZyb20gJy4vY3JlYXRlTGF5ZXJVSUFjdG9yJ1xyXG5pbXBvcnQgTGF5ZXJBY3RvckNvbnRleHQgZnJvbSAnLi4vLi4vQ29udGV4dC9MYXllckFjdG9yQ29udGV4dCdcclxuaW1wb3J0IEltYWdlQWN0b3JDb250ZXh0IGZyb20gJy4uLy4uL0NvbnRleHQvSW1hZ2VBY3RvckNvbnRleHQnXHJcbmltcG9ydCB7IGdldE91dHB1dEludGVuc2l0eUNvbXBvbmVudENvdW50IH0gZnJvbSAnLi4vLi4vUmVuZGVyaW5nL0ltYWdlcy9jcmVhdGVJbWFnZVJlbmRlcmluZ0FjdG9yJ1xyXG5cclxuZnVuY3Rpb24gcmVzaXplKGFyciwgbmV3U2l6ZSwgZGVmYXVsdFZhbHVlKSB7XHJcbiAgcmV0dXJuIFtcclxuICAgIC4uLmFycixcclxuICAgIC4uLkFycmF5KE1hdGgubWF4KG5ld1NpemUgLSBhcnIubGVuZ3RoLCAwKSkuZmlsbChkZWZhdWx0VmFsdWUpLFxyXG4gIF1cclxufVxyXG5cclxuZnVuY3Rpb24gc3Bhd25MYXllclJlbmRlcmluZ0FjdG9yKG9wdGlvbnMpIHtcclxuICByZXR1cm4gYXNzaWduKHtcclxuICAgIGxheWVyczogKGNvbnRleHQsIGV2ZW50KSA9PiB7XHJcbiAgICAgIGNvbnN0IGxheWVycyA9IGNvbnRleHQubGF5ZXJzXHJcbiAgICAgIHN3aXRjaCAoZXZlbnQudHlwZSkge1xyXG4gICAgICAgIGNhc2UgJ0FERF9JTUFHRSc6IHtcclxuICAgICAgICAgIGxldCBuYW1lID0gZXZlbnQuZGF0YS5uYW1lXHJcbiAgICAgICAgICAvLyBFbnN1cmUgdW5pcXVlIG5hbWVcclxuICAgICAgICAgIGxldCBuYW1lTnVtYmVyID0gMFxyXG4gICAgICAgICAgd2hpbGUgKGxheWVycy5sYXllclVJQWN0b3JzLmhhcyhuYW1lKSkge1xyXG4gICAgICAgICAgICBuYW1lID0gYCR7ZXZlbnQuZGF0YS5uYW1lfS0ke25hbWVOdW1iZXIgKyAxfWBcclxuICAgICAgICAgICAgbmFtZU51bWJlcisrXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBjb25zdCBhY3RvckNvbnRleHQgPVxyXG4gICAgICAgICAgICBsYXllcnMuYWN0b3JDb250ZXh0LmdldChuYW1lKSA/PyBuZXcgTGF5ZXJBY3RvckNvbnRleHQoKVxyXG4gICAgICAgICAgYWN0b3JDb250ZXh0LnR5cGUgPSAnaW1hZ2UnXHJcbiAgICAgICAgICBhY3RvckNvbnRleHQuYmJveCA9IGZhbHNlXHJcbiAgICAgICAgICBsYXllcnMuYWN0b3JDb250ZXh0LnNldChuYW1lLCBhY3RvckNvbnRleHQpXHJcbiAgICAgICAgICBsYXllcnMubGFzdEFkZGVkRGF0YSA9IHsgbmFtZSwgZGF0YTogZXZlbnQuZGF0YSB9XHJcbiAgICAgICAgICBsYXllcnMubGF5ZXJVSUFjdG9ycy5zZXQoXHJcbiAgICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgICAgIHNwYXduKFxyXG4gICAgICAgICAgICAgIGNyZWF0ZUxheWVyVUlBY3RvcihvcHRpb25zLCBjb250ZXh0LCBhY3RvckNvbnRleHQpLFxyXG4gICAgICAgICAgICAgIGBsYXllclVJQWN0b3ItJHtuYW1lfWAsXHJcbiAgICAgICAgICAgICAgYWN0b3JDb250ZXh0XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgIClcclxuICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgJ0FERF9MQUJFTF9JTUFHRSc6IHtcclxuICAgICAgICAgIGxldCBuYW1lID0gZXZlbnQuZGF0YS5sYWJlbEltYWdlLm5hbWVcclxuICAgICAgICAgIC8vIEVuc3VyZSB1bmlxdWUgbmFtZVxyXG4gICAgICAgICAgbGV0IG5hbWVOdW1iZXIgPSAwXHJcbiAgICAgICAgICB3aGlsZSAobGF5ZXJzLmxheWVyVUlBY3RvcnMuaGFzKG5hbWUpKSB7XHJcbiAgICAgICAgICAgIG5hbWUgPSBgJHtldmVudC5kYXRhLmxhYmVsSW1hZ2UubmFtZX0tJHtuYW1lTnVtYmVyICsgMX1gXHJcbiAgICAgICAgICAgIG5hbWVOdW1iZXIrK1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgY29uc3QgYWN0b3JDb250ZXh0ID1cclxuICAgICAgICAgICAgbGF5ZXJzLmFjdG9yQ29udGV4dC5nZXQobmFtZSkgPz8gbmV3IExheWVyQWN0b3JDb250ZXh0KClcclxuICAgICAgICAgIGFjdG9yQ29udGV4dC50eXBlID0gJ2xhYmVsSW1hZ2UnXHJcbiAgICAgICAgICBhY3RvckNvbnRleHQuYmJveCA9IGZhbHNlXHJcbiAgICAgICAgICBsYXllcnMuYWN0b3JDb250ZXh0LnNldChuYW1lLCBhY3RvckNvbnRleHQpXHJcbiAgICAgICAgICBsYXllcnMubGFzdEFkZGVkRGF0YSA9IHsgbmFtZSwgZGF0YTogZXZlbnQuZGF0YSB9XHJcbiAgICAgICAgICBsYXllcnMubGF5ZXJVSUFjdG9ycy5zZXQoXHJcbiAgICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgICAgIHNwYXduKFxyXG4gICAgICAgICAgICAgIGNyZWF0ZUxheWVyVUlBY3RvcihvcHRpb25zLCBjb250ZXh0LCBhY3RvckNvbnRleHQpLFxyXG4gICAgICAgICAgICAgIGBsYXllclVJQWN0b3ItJHtuYW1lfWBcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgKVxyXG4gICAgICAgICAgYnJlYWtcclxuICAgICAgICB9XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCBldmVudCB0eXBlOiAke2V2ZW50LnR5cGV9YClcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gbGF5ZXJzXHJcbiAgICB9LFxyXG4gIH0pXHJcbn1cclxuXHJcbmNvbnN0IGFzc2lnbkltYWdlQ29udGV4dCA9IGFzc2lnbih7XHJcbiAgaW1hZ2VzOiBjb250ZXh0ID0+IHtcclxuICAgIGNvbnN0IGltYWdlcyA9IGNvbnRleHQuaW1hZ2VzXHJcbiAgICBsZXQgYWN0b3JOYW1lID0gbnVsbFxyXG4gICAgbGV0IGltYWdlID0gbnVsbFxyXG4gICAgbGV0IGxhYmVsSW1hZ2UgPSBudWxsXHJcbiAgICBsZXQgaW1hZ2VOYW1lID0gbnVsbFxyXG4gICAgbGV0IGxhYmVsSW1hZ2VOYW1lID0gbnVsbFxyXG5cclxuICAgIGlmICgnbGFiZWxJbWFnZScgaW4gY29udGV4dC5sYXllcnMubGFzdEFkZGVkRGF0YS5kYXRhKSB7XHJcbiAgICAgIGxhYmVsSW1hZ2UgPSBjb250ZXh0LmxheWVycy5sYXN0QWRkZWREYXRhLmRhdGEubGFiZWxJbWFnZVxyXG4gICAgICBpbWFnZU5hbWUgPVxyXG4gICAgICAgIGNvbnRleHQubGF5ZXJzLmxhc3RBZGRlZERhdGEuZGF0YS5pbWFnZU5hbWUgPz9cclxuICAgICAgICBjb250ZXh0LmltYWdlcy5zZWxlY3RlZE5hbWVcclxuICAgICAgYWN0b3JOYW1lID0gaW1hZ2VOYW1lID8/IGNvbnRleHQubGF5ZXJzLmxhc3RBZGRlZERhdGEuZGF0YS5sYWJlbEltYWdlLm5hbWVcclxuICAgICAgbGFiZWxJbWFnZU5hbWUgPSBjb250ZXh0LmxheWVycy5sYXN0QWRkZWREYXRhLm5hbWVcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGltYWdlTmFtZSA9IGNvbnRleHQubGF5ZXJzLmxhc3RBZGRlZERhdGEubmFtZVxyXG4gICAgICAvLyBmaW5kIE1hcCBrZXkgd2l0aCBJbWFnZUFjdG9yQ29udGV4dCB3aXRoIG1hdGNoaW5nIGltYWdlIG5hbWUuICBOZWVkZWQgaWYgaW1hZ2UgbG9hZGVkIGFmdGVyIGxhYmVsSW1hZ2VcclxuICAgICAgY29uc3QgW2tleU5hbWVdID1cclxuICAgICAgICBBcnJheS5mcm9tKGltYWdlcy5hY3RvckNvbnRleHQuZW50cmllcygpKS5maW5kKFxyXG4gICAgICAgICAgKFssIHsgaW1hZ2VOYW1lOiBhY3RvckltYWdlTmFtZSB9XSkgPT4gYWN0b3JJbWFnZU5hbWUgPT09IGltYWdlTmFtZVxyXG4gICAgICAgICkgPz8gW11cclxuICAgICAgYWN0b3JOYW1lID0ga2V5TmFtZSA/PyBpbWFnZU5hbWVcclxuICAgIH1cclxuXHJcbiAgICBpbWFnZXMuc2VsZWN0ZWROYW1lID0gYWN0b3JOYW1lXHJcbiAgICBjb25zdCBhY3RvckNvbnRleHQgPVxyXG4gICAgICBpbWFnZXMuYWN0b3JDb250ZXh0LmdldChhY3Rvck5hbWUpID8/IG5ldyBJbWFnZUFjdG9yQ29udGV4dCgpXHJcblxyXG4gICAgbGV0IGxheWVyQ29udGV4dFxyXG4gICAgaWYgKGxhYmVsSW1hZ2UpIHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIGFjdG9yQ29udGV4dC5pbWFnZSAmJlxyXG4gICAgICAgIGxhYmVsSW1hZ2UuaW1hZ2VUeXBlLmRpbWVuc2lvbiAhPT1cclxuICAgICAgICAgIGFjdG9yQ29udGV4dC5pbWFnZS5pbWFnZVR5cGUuZGltZW5zaW9uXHJcbiAgICAgIClcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0xhYmVsIGltYWdlIGRpbWVuc2lvbnMgZG8gbm90IG1hdGNoIEltYWdlIGRpbWVuc2lvbnMnKVxyXG5cclxuICAgICAgYWN0b3JDb250ZXh0LmxhYmVsSW1hZ2UgPSBsYWJlbEltYWdlXHJcbiAgICAgIGFjdG9yQ29udGV4dC5sYWJlbEltYWdlTmFtZSA9IGxhYmVsSW1hZ2VOYW1lXHJcbiAgICAgIGxheWVyQ29udGV4dCA9IGNvbnRleHQubGF5ZXJzLmFjdG9yQ29udGV4dC5nZXQobGFiZWxJbWFnZU5hbWUpXHJcbiAgICAgIGFjdG9yQ29udGV4dC5pbWFnZU5hbWUgPSBpbWFnZU5hbWUgPz8gJ0ltYWdlJ1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIGFjdG9yQ29udGV4dC5sYWJlbEltYWdlICYmXHJcbiAgICAgICAgaW1hZ2UuaW1hZ2VUeXBlLmRpbWVuc2lvbnMgIT09XHJcbiAgICAgICAgICBhY3RvckNvbnRleHQubGFiZWxJbWFnZS5pbWFnZVR5cGUuZGltZW5zaW9uc1xyXG4gICAgICApXHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdMYWJlbCBpbWFnZSBkaW1lbnNpb25zIGRvIG5vdCBtYXRjaCBJbWFnZSBkaW1lbnNpb25zJylcclxuXHJcbiAgICAgIGltYWdlID0gY29udGV4dC5sYXllcnMubGFzdEFkZGVkRGF0YS5kYXRhXHJcbiAgICAgIGFjdG9yQ29udGV4dC5pbWFnZSA9IGltYWdlXHJcbiAgICAgIGxheWVyQ29udGV4dCA9IGNvbnRleHQubGF5ZXJzLmFjdG9yQ29udGV4dC5nZXQoaW1hZ2VOYW1lKVxyXG4gICAgfVxyXG4gICAgbGF5ZXJDb250ZXh0LmltYWdlQWN0b3JDb250ZXh0ID0gYWN0b3JDb250ZXh0XHJcblxyXG4gICAgaW1hZ2VzLmFjdG9yQ29udGV4dC5zZXQoYWN0b3JOYW1lLCBhY3RvckNvbnRleHQpXHJcblxyXG4gICAgaWYgKGltYWdlID09PSBudWxsKSB7XHJcbiAgICAgIHJldHVybiBpbWFnZXNcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjb21wb25lbnRzID0gaW1hZ2UuaW1hZ2VUeXBlLmNvbXBvbmVudHNcclxuXHJcbiAgICAvLyBBc3NpZ24gZGVmYXVsdCBpbmRlcGVuZGVudENvbXBvbmVudHNcclxuICAgIGlmIChhY3RvckNvbnRleHQuaW5kZXBlbmRlbnRDb21wb25lbnRzID09PSBudWxsKSB7XHJcbiAgICAgIC8vIElmIGEgMkQgUkdCIGltYWdlXHJcbiAgICAgIGlmIChcclxuICAgICAgICBpbWFnZS5pbWFnZVR5cGUucGl4ZWxUeXBlID09PSBQaXhlbFR5cGVzLlJHQiB8fFxyXG4gICAgICAgIGltYWdlLmltYWdlVHlwZS5waXhlbFR5cGUgPT09IFBpeGVsVHlwZXMuUkdCQVxyXG4gICAgICApIHtcclxuICAgICAgICBhY3RvckNvbnRleHQuaW5kZXBlbmRlbnRDb21wb25lbnRzID0gZmFsc2VcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhY3RvckNvbnRleHQuaW5kZXBlbmRlbnRDb21wb25lbnRzID0gdHJ1ZVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQXNzaWduIGRlZmF1bHQgY29sb3JNYXBzXHJcbiAgICBmb3IgKGxldCBjb21wb25lbnQgPSAwOyBjb21wb25lbnQgPCBjb21wb25lbnRzOyBjb21wb25lbnQrKykge1xyXG4gICAgICBpZiAoYWN0b3JDb250ZXh0LmNvbG9yTWFwcy5oYXMoY29tcG9uZW50KSkge1xyXG4gICAgICAgIGNvbnRpbnVlXHJcbiAgICAgIH1cclxuICAgICAgbGV0IGNvbG9yTWFwID0gJ1Rlc3RNYXAnXHJcbiAgICAgIC8vIElmIGEgMkQgUkdCIG9yIFJHQkFcclxuICAgICAgaWYgKGNvbXBvbmVudHMgPT09IDIpIHtcclxuICAgICAgICBzd2l0Y2ggKGNvbXBvbmVudCkge1xyXG4gICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICBjb2xvck1hcCA9ICdCa01hJ1xyXG4gICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICBjb2xvck1hcCA9ICdCa0N5J1xyXG4gICAgICAgICAgICBicmVha1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmIChhY3RvckNvbnRleHQuaW5kZXBlbmRlbnRDb21wb25lbnRzKSB7XHJcbiAgICAgICAgaWYgKGNvbXBvbmVudHMgPT09IDMpIHtcclxuICAgICAgICAgIHN3aXRjaCAoY29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICBjb2xvck1hcCA9ICdCa1JkJ1xyXG4gICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICBjb2xvck1hcCA9ICdCa0duJ1xyXG4gICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICBjb2xvck1hcCA9ICdCa0J1J1xyXG4gICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChjb21wb25lbnRzID49IDQpIHtcclxuICAgICAgICAgIHN3aXRjaCAoY29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICBjb2xvck1hcCA9ICdCa1JkJ1xyXG4gICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICBjb2xvck1hcCA9ICdCa0duJ1xyXG4gICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICBjb2xvck1hcCA9ICdCa0J1J1xyXG4gICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICBjb2xvck1hcCA9ICdHcmF5c2NhbGUnXHJcbiAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgYWN0b3JDb250ZXh0LmNvbG9yTWFwcy5zZXQoY29tcG9uZW50LCBjb2xvck1hcClcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGxldCBjb21wb25lbnQgPSAwOyBjb21wb25lbnQgPCBjb21wb25lbnRzOyBjb21wb25lbnQrKykge1xyXG4gICAgICBpZiAoIWFjdG9yQ29udGV4dC5waWVjZXdpc2VGdW5jdGlvblBvaW50cy5oYXMoY29tcG9uZW50KSkge1xyXG4gICAgICAgIC8vIEFzc2lnbiBkZWZhdWx0IHBpZWNld2lzZUZ1bmN0aW9uXHJcbiAgICAgICAgY29uc3QgcG9pbnRzID0gY29udGV4dC51c2UyRFxyXG4gICAgICAgICAgPyBbWzAuNSwgMV1dXHJcbiAgICAgICAgICA6IFtcclxuICAgICAgICAgICAgICAvLyDQotCj0KJcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICBpZiAoY29udGV4dC51c2UyRCAmJiBjb21wb25lbnRzID09PSAxKSB7XHJcbiAgICAgICAgICAvLyBGb3IgMkQgSW1hZ2VNYXBwZXIsIGlmIG11bHRpcGxlIGNvbXBvbmVudHMsXHJcbiAgICAgICAgICAvLyBvcGFjaXR5IGZ1bmN0aW9uIHNldHMgY29tcG9uZW50IGNvbnRyaWJ1dGlvbiBmYWN0b3IuXHJcbiAgICAgICAgICAvLyBJZiBqdXN0IDEgY29tcG9uZW50LCBvcGFjaXR5IGZ1bmN0aW9uIGlzIGlycmVsZXZhbnQuXHJcbiAgICAgICAgICBwb2ludHMubGVuZ3RoID0gMFxyXG4gICAgICAgIH1cclxuICAgICAgICBhY3RvckNvbnRleHQucGllY2V3aXNlRnVuY3Rpb25Qb2ludHMuc2V0KGNvbXBvbmVudCwgcG9pbnRzKVxyXG4gICAgICB9XHJcbiAgICAgIGFjdG9yQ29udGV4dC5jb2xvclJhbmdlcy5zZXQoY29tcG9uZW50LCBbMC4yLCAwLjhdKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIG1ha2UgTWFwcyBsaWtlIHRoaXM6IHsgMDogdHJ1ZSwgMTogdHJ1ZSwgLi4uIG46IHRydWV9XHJcbiAgICBjb25zdCB0cnVlRm9yQWxsID0gWy4uLkFycmF5KGNvbXBvbmVudHMpLmtleXMoKV0ubWFwKGMgPT4gW2MsIHRydWVdKVxyXG4gICAgYWN0b3JDb250ZXh0LmNvbG9yUmFuZ2VNaW5BdXRvQWRqdXN0ID0gbmV3IE1hcChbLi4udHJ1ZUZvckFsbF0pXHJcbiAgICBhY3RvckNvbnRleHQuY29sb3JSYW5nZU1heEF1dG9BZGp1c3QgPSBuZXcgTWFwKFsuLi50cnVlRm9yQWxsXSlcclxuICAgIGFjdG9yQ29udGV4dC5jb2xvclJhbmdlQm91bmRzQXV0b0FkanVzdCA9IG5ldyBNYXAoWy4uLnRydWVGb3JBbGxdKVxyXG4gICAgYWN0b3JDb250ZXh0LnBpZWNld2lzZUZ1bmN0aW9uUG9pbnRzQXV0b0FkanVzdCA9IG5ldyBNYXAoWy4uLnRydWVGb3JBbGxdKVxyXG5cclxuICAgIHJldHVybiBpbWFnZXNcclxuICB9LFxyXG59KVxyXG5cclxuY29uc3QgYXNzaWduQ29tcG9uZW50VmlzaWJpbGl0aWVzID0gYXNzaWduKHtcclxuICBpbWFnZXM6ICh7IGltYWdlcyB9LCBldmVudCkgPT4ge1xyXG4gICAgY29uc3QgYWN0b3JDb250ZXh0ID0gaW1hZ2VzLmFjdG9yQ29udGV4dC5nZXQoZXZlbnQuZGF0YS5uYW1lKVxyXG5cclxuICAgIGNvbnN0IGNvbXBvbmVudENvdW50ID0gZ2V0T3V0cHV0SW50ZW5zaXR5Q29tcG9uZW50Q291bnQoYWN0b3JDb250ZXh0KVxyXG5cclxuICAgIGFjdG9yQ29udGV4dC5jb21wb25lbnRWaXNpYmlsaXRpZXMgPSByZXNpemUoXHJcbiAgICAgIGFjdG9yQ29udGV4dC5jb21wb25lbnRWaXNpYmlsaXRpZXMsXHJcbiAgICAgIGNvbXBvbmVudENvdW50LFxyXG4gICAgICB0cnVlXHJcbiAgICApXHJcblxyXG4gICAgcmV0dXJuIGltYWdlc1xyXG4gIH0sXHJcbn0pXHJcblxyXG5jb25zdCBzZW5kQ29tcG9uZW50VmlzaWJpbGl0aWVzVXBkYXRlZCA9IChjLCB7IGRhdGE6IHsgbmFtZSB9IH0pID0+IHtcclxuICBjLnNlcnZpY2Uuc2VuZCh7XHJcbiAgICB0eXBlOiAnQ09NUE9ORU5UX1ZJU0lCSUxJVElFU19VUERBVEVEJyxcclxuICAgIGRhdGE6IHsgbmFtZSB9LFxyXG4gIH0pXHJcbn1cclxuXHJcbmNvbnN0IGFzc2lnblNlbGVjdGVkTmFtZSA9IGFzc2lnbih7XHJcbiAgaW1hZ2VzOiAoY29udGV4dCwgZXZlbnQpID0+IHtcclxuICAgIGNvbnN0IGltYWdlcyA9IGNvbnRleHQuaW1hZ2VzXHJcbiAgICBjb25zdCBuYW1lID0gZXZlbnQuZGF0YVxyXG4gICAgY29uc3QgdHlwZSA9IGNvbnRleHQubGF5ZXJzLmxheWVyc1VJQWN0b3JzLmdldChuYW1lKS50eXBlXHJcbiAgICBpZiAodHlwZSA9PT0gJ2ltYWdlJyB8fCB0eXBlID09PSAnbGFiZWxJbWFnZScpIHtcclxuICAgICAgaW1hZ2VzLnNlbGVjdGVkTmFtZSA9IG5hbWVcclxuICAgIH1cclxuICAgIHJldHVybiBpbWFnZXNcclxuICB9LFxyXG59KVxyXG5cclxuY29uc3QgZm9yd2FyZFRvTmFtZWRBY3RvciA9IHNlbmQoKF8sIGUpID0+IGUsIHtcclxuICB0bzogKGMsIGUpID0+IGBsYXllclVJQWN0b3ItJHtlLm5hbWV9YCxcclxufSlcclxuXHJcbmNvbnN0IHNlbmRFdmVudFRvQWxsQWN0b3JzID0gYWN0aW9ucy5wdXJlKFxyXG4gICh7IGxheWVyczogeyBsYXllclVJQWN0b3JzIH0gfSwgZXZlbnQpID0+XHJcbiAgICBBcnJheS5mcm9tKGxheWVyVUlBY3RvcnM/LnZhbHVlcygpID8/IFtdKS5tYXAoYWN0b3IgPT5cclxuICAgICAgc2VuZChldmVudCwge1xyXG4gICAgICAgIHRvOiBhY3RvcixcclxuICAgICAgfSlcclxuICAgIClcclxuKVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlTGF5ZXJzVUlNYWNoaW5lKG9wdGlvbnMsIGNvbnRleHQpIHtcclxuICBjb25zdCB7IGxheWVyVUlBY3RvciB9ID0gb3B0aW9uc1xyXG5cclxuICByZXR1cm4gTWFjaGluZShcclxuICAgIHtcclxuICAgICAgaWQ6ICdsYXllcnMnLFxyXG4gICAgICBpbml0aWFsOiAnaWRsZScsXHJcbiAgICAgIGNvbnRleHQsXHJcbiAgICAgIHN0YXRlczoge1xyXG4gICAgICAgIGlkbGU6IHtcclxuICAgICAgICAgIGFsd2F5czoge1xyXG4gICAgICAgICAgICB0YXJnZXQ6ICdhY3RpdmUnLFxyXG4gICAgICAgICAgICBhY3Rpb25zOiBbJ2NyZWF0ZUxheWVyc0ludGVyZmFjZSddLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGFjdGl2ZToge1xyXG4gICAgICAgICAgaW52b2tlOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogJ2NvbXBhcmVVSScsXHJcbiAgICAgICAgICAgICAgc3JjOiAnY29tcGFyZVVJJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgIF0sXHJcbiAgICAgICAgICBvbjoge1xyXG4gICAgICAgICAgICBTRUxFQ1RfTEFZRVI6IHtcclxuICAgICAgICAgICAgICBhc3NpZ25TZWxlY3RlZE5hbWUsXHJcbiAgICAgICAgICAgICAgYWN0aW9uczogW1xyXG4gICAgICAgICAgICAgICAgc2VuZCgoXywgZSkgPT4gZSwge1xyXG4gICAgICAgICAgICAgICAgICB0bzogKGMsIGUpID0+IGBsYXllclVJQWN0b3ItJHtlLmRhdGF9YCxcclxuICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFRPR0dMRV9MQVlFUl9WSVNJQklMSVRZOiB7XHJcbiAgICAgICAgICAgICAgYWN0aW9uczogc2VuZCgoXywgZSkgPT4gZSwge1xyXG4gICAgICAgICAgICAgICAgdG86IChjLCBlKSA9PiBgbGF5ZXJVSUFjdG9yLSR7ZS5kYXRhfWAsXHJcbiAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIEFERF9JTUFHRToge1xyXG4gICAgICAgICAgICAgIGFjdGlvbnM6IFtcclxuICAgICAgICAgICAgICAgIHNwYXduTGF5ZXJSZW5kZXJpbmdBY3RvcihsYXllclVJQWN0b3IpLFxyXG4gICAgICAgICAgICAgICAgYXNzaWduSW1hZ2VDb250ZXh0LFxyXG4gICAgICAgICAgICAgICAgYXNzaWduQ29tcG9uZW50VmlzaWJpbGl0aWVzLFxyXG4gICAgICAgICAgICAgICAgYyA9PlxyXG4gICAgICAgICAgICAgICAgICBjLnNlcnZpY2Uuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ0lNQUdFX0FTU0lHTkVEJyxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjLmltYWdlcy5zZWxlY3RlZE5hbWUsXHJcbiAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgYyA9PlxyXG4gICAgICAgICAgICAgICAgICBjLnNlcnZpY2Uuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1NFTEVDVF9MQVlFUicsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogYy5pbWFnZXMuc2VsZWN0ZWROYW1lLFxyXG4gICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBBRERfTEFCRUxfSU1BR0U6IHtcclxuICAgICAgICAgICAgICBhY3Rpb25zOiBbXHJcbiAgICAgICAgICAgICAgICBzcGF3bkxheWVyUmVuZGVyaW5nQWN0b3IobGF5ZXJVSUFjdG9yKSxcclxuICAgICAgICAgICAgICAgIGFzc2lnbkltYWdlQ29udGV4dCxcclxuICAgICAgICAgICAgICAgIGMgPT5cclxuICAgICAgICAgICAgICAgICAgYy5zZXJ2aWNlLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdMQUJFTF9JTUFHRV9BU1NJR05FRCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogYy5pbWFnZXMuc2VsZWN0ZWROYW1lLFxyXG4gICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgIGMgPT5cclxuICAgICAgICAgICAgICAgICAgYy5zZXJ2aWNlLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdTRUxFQ1RfTEFZRVInLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGMuaW1hZ2VzLnNlbGVjdGVkTmFtZSxcclxuICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgU1RBUlRfREFUQV9VUERBVEU6IHsgYWN0aW9uczogZm9yd2FyZFRvTmFtZWRBY3RvciB9LFxyXG4gICAgICAgICAgICBGSU5JU0hfREFUQV9VUERBVEU6IHsgYWN0aW9uczogZm9yd2FyZFRvTmFtZWRBY3RvciB9LFxyXG4gICAgICAgICAgICBQT1NUX1JFTkRFUjogeyBhY3Rpb25zOiBzZW5kRXZlbnRUb0FsbEFjdG9ycyB9LFxyXG4gICAgICAgICAgICBDT01QQVJFX1VQREFURUQ6IHtcclxuICAgICAgICAgICAgICBhY3Rpb25zOiBbXHJcbiAgICAgICAgICAgICAgICBhc3NpZ25Db21wb25lbnRWaXNpYmlsaXRpZXMsXHJcbiAgICAgICAgICAgICAgICBzZW5kQ29tcG9uZW50VmlzaWJpbGl0aWVzVXBkYXRlZCxcclxuICAgICAgICAgICAgICAgIHNlbmQoKF8sIGUpID0+IGUsIHtcclxuICAgICAgICAgICAgICAgICAgdG86IChjLCBlKSA9PiBgbGF5ZXJVSUFjdG9yLSR7ZS5kYXRhLm5hbWV9YCxcclxuICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgZm9yd2FyZFRvKCdjb21wYXJlVUknKSxcclxuICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIC8vIG5lZWQgc2VydmljZSBzdHViIHRvIGF2b2lkIGVycm9ycyBpZiBvdmVycmlkZGVuIG9wdGlvbnMgZG9lcyBub3QgZGVmaW5lXHJcbiAgICB7IHNlcnZpY2VzOiB7IGNvbXBhcmVVSTogKCkgPT4gKCkgPT4gdW5kZWZpbmVkIH0sIC4uLm9wdGlvbnMgfVxyXG4gIClcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlTGF5ZXJzVUlNYWNoaW5lXHJcbiJdLCJuYW1lcyI6WyJNYWNoaW5lIiwiYXNzaWduIiwic3Bhd24iLCJzZW5kIiwiYWN0aW9ucyIsImZvcndhcmRUbyIsIlBpeGVsVHlwZXMiLCJjcmVhdGVMYXllclVJQWN0b3IiLCJMYXllckFjdG9yQ29udGV4dCIsIkltYWdlQWN0b3JDb250ZXh0IiwiZ2V0T3V0cHV0SW50ZW5zaXR5Q29tcG9uZW50Q291bnQiLCJyZXNpemUiLCJhcnIiLCJuZXdTaXplIiwiZGVmYXVsdFZhbHVlIiwiY29uY2F0IiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiQXJyYXkiLCJNYXRoIiwibWF4IiwibGVuZ3RoIiwiZmlsbCIsInNwYXduTGF5ZXJSZW5kZXJpbmdBY3RvciIsIm9wdGlvbnMiLCJsYXllcnMiLCJjb250ZXh0IiwiZXZlbnQiLCJ0eXBlIiwiX2xheWVycyRhY3RvckNvbnRleHQkIiwibmFtZSIsImRhdGEiLCJuYW1lTnVtYmVyIiwibGF5ZXJVSUFjdG9ycyIsImhhcyIsImFjdG9yQ29udGV4dCIsImdldCIsImJib3giLCJzZXQiLCJsYXN0QWRkZWREYXRhIiwiX2xheWVycyRhY3RvckNvbnRleHQkMiIsImxhYmVsSW1hZ2UiLCJFcnJvciIsImFzc2lnbkltYWdlQ29udGV4dCIsImltYWdlcyIsIl9pbWFnZXMkYWN0b3JDb250ZXh0JCIsImFjdG9yTmFtZSIsImltYWdlIiwiaW1hZ2VOYW1lIiwibGFiZWxJbWFnZU5hbWUiLCJfY29udGV4dCRsYXllcnMkbGFzdEEiLCJfaW1hZ2VOYW1lIiwic2VsZWN0ZWROYW1lIiwiX0FycmF5JGZyb20kZmluZCIsIl9yZWYiLCJmcm9tIiwiZW50cmllcyIsImZpbmQiLCJfcmVmMyIsIl9yZWY0IiwiX3NsaWNlZFRvQXJyYXkiLCJhY3RvckltYWdlTmFtZSIsIl9yZWYyIiwia2V5TmFtZSIsImxheWVyQ29udGV4dCIsIl9pbWFnZU5hbWUyIiwiaW1hZ2VUeXBlIiwiZGltZW5zaW9uIiwiZGltZW5zaW9ucyIsImltYWdlQWN0b3JDb250ZXh0IiwiY29tcG9uZW50cyIsImluZGVwZW5kZW50Q29tcG9uZW50cyIsInBpeGVsVHlwZSIsIlJHQiIsIlJHQkEiLCJjb21wb25lbnQiLCJjb2xvck1hcHMiLCJjb2xvck1hcCIsInBpZWNld2lzZUZ1bmN0aW9uUG9pbnRzIiwicG9pbnRzIiwidXNlMkQiLCJjb2xvclJhbmdlcyIsInRydWVGb3JBbGwiLCJrZXlzIiwibWFwIiwiYyIsImNvbG9yUmFuZ2VNaW5BdXRvQWRqdXN0IiwiTWFwIiwiY29sb3JSYW5nZU1heEF1dG9BZGp1c3QiLCJjb2xvclJhbmdlQm91bmRzQXV0b0FkanVzdCIsInBpZWNld2lzZUZ1bmN0aW9uUG9pbnRzQXV0b0FkanVzdCIsImFzc2lnbkNvbXBvbmVudFZpc2liaWxpdGllcyIsIl9yZWY1IiwiY29tcG9uZW50Q291bnQiLCJjb21wb25lbnRWaXNpYmlsaXRpZXMiLCJzZW5kQ29tcG9uZW50VmlzaWJpbGl0aWVzVXBkYXRlZCIsIl9yZWY2Iiwic2VydmljZSIsImFzc2lnblNlbGVjdGVkTmFtZSIsImxheWVyc1VJQWN0b3JzIiwiZm9yd2FyZFRvTmFtZWRBY3RvciIsIl8iLCJlIiwidG8iLCJzZW5kRXZlbnRUb0FsbEFjdG9ycyIsInB1cmUiLCJfcmVmNyIsIl9sYXllclVJQWN0b3JzJHZhbHVlcyIsInZhbHVlcyIsImFjdG9yIiwiY3JlYXRlTGF5ZXJzVUlNYWNoaW5lIiwibGF5ZXJVSUFjdG9yIiwiaWQiLCJpbml0aWFsIiwic3RhdGVzIiwiaWRsZSIsImFsd2F5cyIsInRhcmdldCIsImFjdGl2ZSIsImludm9rZSIsInNyYyIsIm9uIiwiU0VMRUNUX0xBWUVSIiwiVE9HR0xFX0xBWUVSX1ZJU0lCSUxJVFkiLCJBRERfSU1BR0UiLCJBRERfTEFCRUxfSU1BR0UiLCJTVEFSVF9EQVRBX1VQREFURSIsIkZJTklTSF9EQVRBX1VQREFURSIsIlBPU1RfUkVOREVSIiwiQ09NUEFSRV9VUERBVEVEIiwiX29iamVjdFNwcmVhZCIsInNlcnZpY2VzIiwiY29tcGFyZVVJIiwidW5kZWZpbmVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/UI/Layers/createLayersUIMachine.js\n");

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ /* webpack/runtime/getFullHash */
/******/ (() => {
/******/ 	__webpack_require__.h = () => ("f4a529fb7eb433dafb2a")
/******/ })();
/******/ 
/******/ }
);